# Replication Jayaraman & Wu (2019)
Acct 4 2025 â€“ TA Session 2 
Last Updated: May 23, 2025  
Yiyang Wu  

## Project Structure

The project is organized into several directories:

-   **`1_segment/`**: Contains scripts and data related to segment information.
    -   [`1_segment.do`](1_segment/1_segment.do): Processes raw segment data.
    -   [`1_segment.dta`](1_segment/1_segment.dta): Processed segment data.
    -   `raw_data/`: Contains raw data files for segments (e.g., `Historical Segments.pdf`).
-   **`2_ccm_crsp_fundamental/`**: Contains scripts and data related to Compustat/CRSP fundamental data.
    -   [`1_ccm_crsp_fundamental.do`](2_ccm_crsp_fundamental/1_ccm_crsp_fundamental.do): Processes raw fundamental data.
    -   [`1_ccm_crsp_fundamental.dta`](2_ccm_crsp_fundamental/1_ccm_crsp_fundamental.dta): Processed fundamental data.
    -   `raw_data/`: Contains raw data files for fundamentals (e.g., `Fundamentals Annual.pdf`).
-   **`3_crsp_stock/`**: Contains scripts and data related to CRSP stock data.
    -   [`1_crsp_stock.do`](3_crsp_stock/1_crsp_stock.do): Processes raw stock data and calculates illiquidity.
    -   [`1_illiquidity.dta`](3_crsp_stock/1_illiquidity.dta): Processed stock data including illiquidity measures.
    -   `raw_data/`: Contains raw data files for stock data (e.g., `Daily Stock File.pdf`).
-   **`output/`**: This directory is intended for storing output files generated by the analysis scripts, such as tables or figures.

## Main Scripts

-   **[`30_sample.do`](30_sample.do)**: This script likely merges the processed data from the `1_segment`, `2_ccm_crsp_fundamental`, and `3_crsp_stock` directories to create a final sample dataset (`30_sample.dta`) used for analysis.
-   **[`tab_2.do`](tab_2.do)**: Stata script for generating specific regression tables or analyses.
-   **[`tab_3a.do`](tab_3a.do)**: Stata script that uses `30_sample.dta` to run regression models (e.g., analyzing `illiq`) and outputs results, potentially to a CSV file in the `output/` directory.
-   **[`tab_4a.do`](tab_4a.do)**: Stata script that uses `30_sample.dta` to run regression models (e.g., analyzing `lead1_capxassets`) and outputs results.

## How to Run

1.  Ensure Stata is installed.
2.  Update the `cd` (change directory) paths at the beginning of each `.do` file to match your local project directory structure if necessary.
3.  The global variable `output_path` in scripts like [`tab_3a.do`](tab_3a.do) and [`tab_4a.do`](tab_4a.do) defines where output files are saved. Ensure this path is correct.
4.  Run the `.do` files in a logical order, typically starting with data processing scripts in the subdirectories, followed by the merging script (`30_sample.do`), and then the analysis scripts (`tab_*.do`).

    For example:
    *   Run scripts in `1_segment/`, `2_ccm_crsp_fundamental/`, `3_crsp_stock/`.
    *   Run [`30_sample.do`](30_sample.do).
    *   Run [`tab_2.do`](tab_2.do), [`tab_3a.do`](tab_3a.do), [`tab_4a.do`](tab_4a.do).

## Notes

-   The scripts use `reghdfe` for regressions with high-dimensional fixed effects.
-   `eststo` and `esttab` are used for storing and exporting regression results.
-   Data cleaning steps like `winsor2` are applied in some scripts.
